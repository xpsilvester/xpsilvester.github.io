"use strict";var name="",phone="",code="",province="",city="",school="",grade="",teacher="",ok=!1,getVerifyCode=function(){$(".code .yuko-textfield_textbtn").on("touchstart",function(){console.log("tag","");var t=$.trim($("#phone").val());""==t?alert("请填写手机号码"):/^(\+86)?1[0-9]{10}$/.test(t)?getVerifyCodeAjax(t):alert("手机号码格式不正确")})},changeCodeStyle=function(){var t=120;$(".code .yuko-textfield_textbtn").unbind(),$(".code .yuko-textfield_textbtn").html("重新发送("+t+"s)"),$(".code .yuko-textfield_textbtn").css("color","#ccc");var e=setInterval(function(){0==t?(clearInterval(e),$(".code .yuko-textfield_textbtn").css("color","#fc0"),getVerifyCode()):(t--,$(".code .yuko-textfield_textbtn").html("重新发送("+t+"s)"))},1e3)},initProvince=function(){$(".province .yuko-select_items").html("");for(var t=0;t<zone.length;t++)$(".province .yuko-select_items").append("<div>"+zone[t].name+"</div>");$(".province .yuko-select_items>div").on("touchstart",function(){province=$(this).html(),$(".city .yuko-select_items>div").unbind(),$(".city .yuko-select_items").html(""),$(".city .yuko-select_selected").html("请选择"),city="",appendCity(province)})},appendCity=function(t){for(var e=0;e<zone.length;e++)if(zone[e].name==t)for(var o=0;o<zone[e].city.length;o++)$(".city .yuko-select_items").append("<div>"+zone[e].city[o].name+"</div>");$(".city .yuko-select_items>div").on("touchstart",function(){city=$(this).html()})},selectSchool=function(){$(".school .yuko-textfield_searchbtn").on("touchstart",function(){var t=$.trim($("#school").val());""==t?alert("请填写学校"):selectSchoolAjax(t)})},schoolChoice=function(t){$(".school .yuko-list_items").html("");for(var e=0;e<t.length;e++)$(".school .yuko-list_items").append("<div>"+t[e]+"</div>");$(".school .yuko-list_items").removeClass("yuko-list_hide"),$(".school .yuko-list_items>div").on("touchend",function(){school=$(this).html(),$("#school").val(school),$(".school .yuko-list_items").addClass("yuko-list_hide")})},selectGrade=function(){$(".grade .yuko-select_items>div").on("touchstart",function(){grade=$(this).html()})},confirmInfo=function(){$(".confirm1 .yuko-radio").on("touchstart",function(){ok=!0})},submit=function(){$(".submit").on("touchstart",function(){name=$.trim($("#name").val()),phone=$.trim($("#phone").val()),code=$.trim($("#code").val()),school=$.trim($("#school").val()),teacher=$.trim($("#teacher").val());var t=!0;return""==name?(alert("请填写孩子中文姓名"),void(t=!1)):""==phone?(alert("请填写家长手机号码"),void(t=!1)):/^(\+86)?1[0-9]{10}$/.test(phone)?""==code?(alert("请填写手机验证码"),void(t=!1)):""==province?(alert("请选择省"),void(t=!1)):""==city?(alert("请选择市"),void(t=!1)):""==school?(alert("请选择学校"),void(t=!1)):""==grade?(alert("请选择年级"),void(t=!1)):ok?void(t&&submitAjax(name,phone,code,province,city,school,grade,teacher,ok)):(alert("请确认信息属实"),void(t=!1)):(alert("手机号码格式不正确"),void(t=!1))})};$(function(){getVerifyCode(),initProvince(),selectSchool(),selectGrade(),confirmInfo(),submit()});